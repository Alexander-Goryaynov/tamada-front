<div class="lk" style="background-image: url('../../assets/images/background_dream.jpg'); -moz-background-size: 100%; /* Firefox 3.6+ */
      -webkit-background-size: 100%; /* Safari 3.1+ и Chrome 4.0+ */
      -o-background-size: 100%; /* Opera 9.6+ */
      background-size: 100%; /* Современные браузеры */
       filter: brightness(100%);">
  <div class="border_around">
    <swal
      [title]="swalMessage"
      icon="success"
      [swalVisible]="swalVisibility"
      showCancelButton=""
      showConfirmButton=""></swal>
    <p class="cloud-text cloud-title" style='margin-top: 0px'>
      Личный кабинет
    </p>
    <div>
      <p class="cloud-text attribute">
        {{fio}}
      </p>
    </div>
    <p *ngIf="!isAdmin" class="cloud-text attribute">
      Ваш номер телефона: {{phone}}
    </p>
  </div>
</div>
<div class="container-xl" style='font-family: "Lato", sans-serif !important;'>
  <div class="table-responsive" style="margin-top: 0 !important;">
    <div class="table-wrapper">
      <div class="table-title">
        <div class="row">
          <div class="col-sm-4">
            <h2>Заказы</h2>
          </div>
        </div>
      </div>
      <table class="table table-striped table-hover">
        <thead>
        <tr>
          <th>#</th>
          <th *ngIf="isAdmin">Клиент</th>
          <th>Статус</th>
          <th>Дата</th>
          <th>Событие</th>
          <th>Адрес</th>
          <th>Аниматор</th>
          <th>Сумма</th>
          <th>Создан</th>
          <th *ngIf="!isAdmin"></th>
          <th *ngIf="isAdmin"></th>
          <th *ngIf="isAdmin"></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let order of orders">
          <td>{{order.id}}</td>
          <div *ngIf="isAdmin">
            <td>{{order.user}}</td>
          </div>
          <td>
            <div [ngSwitch]="order.status">
              <ng-template ngSwitchCase="Обработка">
                <span class="status text-warning">&bull;</span>
              </ng-template>
              <ng-template ngSwitchCase="Отменён">
                <span class="status text-danger">&bull;</span>
              </ng-template>
              <ng-template ngSwitchCase="Выполнен">
                <span class="status text-success">&bull;</span>
              </ng-template>
              <span>{{order.status}}</span>
            </div>
          </td>
          <td>{{order.date}}</td>
          <td>{{order.event}}</td>
          <td>{{order.address}}</td>
          <td>{{order.animatorName}}</td>
          <td>{{order.price}}</td>
          <td>{{order.creationDate}}</td>
          <td *ngIf="!isAdmin">
            <button *ngIf="order.status.localeCompare('Обработка') === 0"
                    (click)="cancelOrder(order.id)">
              Отменить
            </button>
          </td>
          <td *ngIf="isAdmin">
            <button *ngIf="order.status.localeCompare('Обработка') === 0"
                    (click)="finishOrder(order.id)">
              Завершить
            </button>
          </td>
          <td *ngIf="isAdmin">
            <button (click)="deleteOrder(order.id)">Удалить</button>
          </td>
        </tr>
        </tbody>
      </table>
      <p *ngIf="orders.length === 0">
        Здесь пока пусто. Перейдите в раздел бронирования для заказа аниматора!
      </p>
    </div>
  </div>
</div>
